<div class="container p-2">
  <h3 class="m-4">配送先登録/一覧</h3>
  <div class="row m-1">
    <%= form_with model: @address, url: addresses_path, method: :post do |f| %>
    <div class="ml-4">
      <table>
        <tbody>
          <tr>
            <th><label>郵便番号(ハイフンなし)　</label></th>
            <th><%= f.text_field :postal_code, placeholder:"0000000" %></th>
            <th></th>
          </tr>
          <tr>
            <th><label>住所</label></th>
            <th><%= f.text_field :address, placeholder:"東京都渋谷区代々木神園町0-0", size: "50" %></th>
            <th></th>
          </tr>
          <tr>
            <th><label>宛名</label></th>
            <th><%= f.text_field :address_name, placeholder:"令和道子" %></th>
            <th><span><%= f.submit '新規登録', class:"btn btn-sm btn-success m-1" %></span></th>
          </tr>
        </tbody>
      </table>
    </div>
    <% end %>
  </div>
  <div class="row m-1">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>郵便番号</th>
          <th>住所</th>
          <th>宛名</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <% @addresses.each do |address| %>
        <tr>
          <td><%= address.postal_code %></td>
          <td><%= address.address %></td>
          <td><%= address.address_name %></td>
          <td>
            <%= link_to "編集する",edit_address_path(address.id), class:"btn btn-sm btn-success m-2" %>
            <%= link_to "削除する",address_path(address.id), class:"btn btn-sm btn-danger m-2", method: :delete, "data-confirm" => "本当に削除しますか？" %>
          </td>
        </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
